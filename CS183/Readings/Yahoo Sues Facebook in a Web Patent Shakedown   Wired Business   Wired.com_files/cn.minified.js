jQuery.noConflict();if(typeof Object.make!=="function"){Object.make=function(F){return function(Object){F.prototype=Object;return new F();};}(function(){});}Function.prototype.memoize=function(){var memo={},that=this,obj=arguments.length>0?arguments[i]:null,memoizedFn;memoizedFn=function(){var args=[],i,il;for(i=0,il=arguments.length;i<il;i++){args[i]=arguments[i];}if(!(args in memo)){memo[args]=that.apply(obj,arguments);}return memo[args];};memoizedFn.unmemoize=function(){return that;};return memoizedFn;};Function.prototype.unmemoize=function(){CN.debug.info("Attempted to unmemoize a function that was never memoized in the first place");return null;};if(!Array.prototype.forEach){Array.prototype.forEach=function(fn,thisObj){if(!this.splice){return;}var scope,i,j;scope=thisObj||window;for(i=0,j=this.length;i<j;++i){fn.call(scope,this[i],i,this);}};Array.prototype.every=function(fn,thisObj){if(!this.splice){return;}var scope,i,j;scope=thisObj||window;for(i=0,j=this.length;i<j;++i){if(!fn.call(scope,this[i],i,this)){return false;}}return true;};Array.prototype.some=function(fn,thisObj){if(!this.splice){return;}var scope,i,j;scope=thisObj||window;for(i=0,j=this.length;i<j;++i){if(fn.call(scope,this[i],i,this)){return true;}}return false;};Array.prototype.map=function(fn,thisObj){if(!this.splice){return;}var scope,a,i,j;scope=thisObj||window;a=[];for(i=0,j=this.length;i<j;++i){a.push(fn.call(scope,this[i],i,this));}return a;};Array.prototype.filter=function(fn,thisObj){if(!this.splice){return;}var scope,a,i,j;scope=thisObj||window;a=[];for(i=0,j=this.length;i<j;++i){if(!fn.call(scope,this[i],i,this)){continue;}a.push(this[i]);}return a;};Array.prototype.indexOf=function(el,start){if(!this.splice){return;}var i,j;start=start||0;for(i=start,j=this.length;i<j;++i){if(this[i]===el){return i;}}return -1;};Array.prototype.lastIndexOf=function(el,start){if(!this.splice){return;}var i;start=start||this.length;if(start>=this.length){start=this.length;}if(start<0){start=this.length+start;}for(i=start;i>=0;--i){if(this[i]===el){return i;}}return -1;};}if(!Array.prototype.remove){Array.prototype.remove=function(from,to){if(!this.splice){return;}this.splice(from,(to||from||1)+(from<0?this.length:0));return this.length;};}if(typeof CN==="undefined"||!CN){var CN={};}CN.isBoolean=function(mixed){return typeof mixed==="boolean";};CN.isDate=function(mixed){return Object.prototype.toString.call(mixed)==="[object Date]";};CN.isEmpty=function(str){return !/\S/.test(str||"");};CN.isNull=function(mixed){return mixed===null;};CN.isNumber=function(mixed){return typeof mixed==="number"&&isFinite(mixed);};CN.isObject=function(mixed){return typeof mixed==="object";};CN.isString=function(mixed){return typeof mixed==="string";};CN.isUndefined=function(mixed){return typeof mixed==="undefined";};CN.url=(function(){var pathCache=[];return{domain:function(url){var d=((url)?url.replace(/^https*:\/\/|(:|\/).*$/g,""):location.hostname).split("."),dl=d.length;return d.slice(dl-2,dl).join(".");},section:function(){return((location.pathname.split("/")[1]||"").match(/^[^\.]*$/)||[""])[0];},isSecure:function(){return location.protocol==="https:";},params:function(param,query,regex){var result=CN.utils.parseStr((query||location.search),(regex||"query"));return(param)?result[param]||"":result;},path:function(){if(pathCache.length===0){pathCache=location.pathname.match(/([^\/]+)/g)||[""];}return pathCache;},getFragment:function(){return location.hash.substring(1)||false;},setFragment:function(value){location.hash=value||"";return this;}};})();CN.utils=(function(){var cache={},parsers={query:/([^?=&]+)(=([^&]*))?/g,hash:/([^#=&]+)(=([^&]*))?/g,usercookie:/([^=|]+)(=([^|]*))?/g},pad=function(str,total,padding,dir){str=String(str||"");padding=String(padding||" ");var strLen=str.length,padLen=padding.length;if(strLen>=total){return str;}while(strLen<total){str=(dir==="left")?padding+str:str+padding;strLen+=padLen;}return str;};return{parseStr:function(str,regex){if(cache[str+"_"+regex]){return cache[str+"_"+regex];}cache[str+"_"+regex]={};(str||"").replace(parsers[regex],function($0,$1,$2,$3){cache[str+"_"+regex][$1]=$3;});return cache[str+"_"+regex];},intval:function(mixed,base){if(typeof mixed==="boolean"){return(mixed)?1:0;}else{if(typeof mixed==="string"){mixed=parseInt(mixed*1,(base||10));return(isNaN(mixed)||!isFinite(mixed))?0:mixed;}else{if(typeof mixed==="number"&&isFinite(mixed)){return Math.floor(mixed);}}}return 0;},trim:function(str){var start=-1,end=str.length;while(str.charCodeAt(--end)<33){}while(++start<end&&str.charCodeAt(start)<33){}return str.slice(start,end+1);},transliterate:function(str,strip){if(typeof str=="undefined"){return"";}if(typeof strip=="undefined"){strip=true;}str=escape(str).replace(/%C[0-5]/g,"A").replace(/%C6/g,"AE").replace(/%C7/g,"C").replace(/%C[8-9|A-B]/g,"E").replace(/%C[C-F]/g,"I").replace(/%D[2-8]/g,"O").replace(/%D[9|A-C]/g,"U").replace(/%DD/g,"Y").replace(/%u0178/g,"Y").replace(/%u017D/g,"Z").replace(/%u0160/g,"S").replace(/%E[0-5]/g,"a").replace(/%E6/g,"ae").replace(/%E7/g,"c").replace(/%E[8-9|A-B]/g,"e").replace(/%E[C-F]/g,"i").replace(/%F[2-8]/g,"o").replace(/%F[9|A-C]/g,"u").replace(/%F[D-F]/g,"y").replace(/%u017E/g,"z").replace(/%u0161/g,"s").replace(/%u2014/g,"-").replace(/%u2013/g,"-").replace(/%u201[8-9]/g,"'").replace(/%u201A/g,",").replace(/%u2026/g,"...").replace(/%u201[C-D]/g,'"').replace(/%3F/g,"?").replace(/%21/g,"!").replace(/%26/g,"&").replace(/%25/g,"%").replace(/%24/g,"$").replace(/%5E/g,"^").replace(/%28/g,"(").replace(/%29/g,")").replace(/%7E/g,"~").replace(/%60/g,"`").replace(/%23/g,"#").replace(/%3D/g,"=").replace(/%2C/g,",").replace(/%3C/g,"<").replace(/%2E/g,">").replace(/%7C/g,"|").replace(/%3A/g,":").replace(/%3B/g,";").replace(/%7D/g,"}").replace(/%7B/g,"{").replace(/%5B/g,"[").replace(/%5D/g,"]").replace(/%20/g," ");if(strip){str=str.replace(/%u[0-9|A-F][0-9|A-F][0-9|A-F][0-9|A-F]/g,"").replace(/%u[0-9|A-F][0-9|A-F]/g,"").replace(/%[0-9|A-F][0-9|A-F]/g,"");}else{str=unescape(str);}return str;},padLeft:function(str,total,padding){return pad(str,total,padding,"left");},padRight:function(str,total,padding){return pad(str,total,padding,"right");},uriencdec:function(str,encode){return(encode)?encodeURIComponent(str):decodeURIComponent(str);},mapPropertyArray:function(arr,name,value){name=name||"name";value=value||"value";var obj={};if(jQuery.isArray(arr)){jQuery.each(arr,function(i){obj[arr[i][name]]=arr[i][value];});}else{obj[arr[name]]=arr[value];}return obj;}};})();CN.debug=(function(){var eType={error:{f:"error",msg:"ERROR"},warn:{f:"warn",msg:"WARNING"},info:{f:"info",msg:"INFO"},user:{f:"error",msg:"USER"}},eEnv={DEV:"Development",STAG:"Staging",PREV:"Preview",PROD:"Production"},show=function(type,msg,args){var t=eType[type]||eType.debug;if(CN.site.env==="PROD"&&!CN.site.debug){return;}msg=msg||"NO MSG";args=args||[];if(typeof console==="object"){var func=console[t.f]||console.info;args.unshift(t.msg,msg);for(var i=0;i<args.length-1;i+=2){var part=args.splice(0,i+1);part.push(" :: ");args=part.concat(args);}if(console.firebug){func.apply(this,args);}else{console[t.f](args);}}};if(CN.url.params("debugOff")==="true"){show=function(){return;};}return{error:function(msg,args){show("error",msg,args);return this;},warn:function(msg,args){show("warn",msg,args);return this;},info:function(msg,args){show("info",msg,args);return this;},user:function(e,args){show("user",e.message,[args,e.fileName,e.lineNumber,e.name,e.stack]);return this;},speedtest:function(f,args,cycles){var x,i;if(CN.isNumber(args)){cycles=args;args=[];}if(!jQuery.isArray(args)){args=[];}cycles=cycles||10000;if(!jQuery.isFunction(f)){CN.debug.error("Not a function",[f]);return this;}if(typeof console==="object"){if(console.time){x="timer"+Math.floor(Math.random()*1000000);console.time(x);for(i=0;i<cycles;i++){f.apply(this,args);}console.timeEnd(x);}else{x=new Date()-0;for(i=0;i<cycles;i++){f.apply(this,args);}x=new Date()-x;console.log(x);}}else{x=new Date()-0;for(i=0;i<cycles;i++){f.apply(this,args);}x=new Date()-x;alert(x);}return this;},app:function(){var options={},_show=function(type,msg,args){if(options[CN.site.env][type]){show(type,msg,args);}};return{setLevel:function(type,env){if(!type||!jQuery.isArray(type)||type.length===0){return this;}env=(env&&env in eEnv)?env:"DEV";options[env]=type;return this;},getLevel:function(env){return(env)?options[env]||"":options;},error:function(msg,args){_show("error",msg,args);return this;},warn:function(msg,args){_show("warn",msg,args);return this;},info:function(msg,args){_show("info",msg,args);return this;},user:function(e,args){_show("user",e.message,[args,e.fileName,e.lineNumber,e.name,e.stack]);return this;}};}};})();if(CN.url.params("debugOff")!=="true"){window.onerror=function(msg,url,line){CN.debug.error(msg,[url,line]);return(CN.site.env==="PROD")?true:false;};}CN.site=(function(){return{code:"",title:"",name:"",alias:"",env:"",cnd:false,debug:!!CN.url.params("magdebug")&&!this.cnd,noads:!!CN.url.params("magnoads")&&!this.cnd,testads:CN.url.params("dartAdOverride")&&!this.cnd,init:function(settings){settings=settings||{};for(var s in settings){if(settings.hasOwnProperty(s)){this[s]=settings[s];}}this[this.name]={};this.domain=CN.url.domain();try{if(this.domain){document.domain=this.domain;}CN.debug.info("Document domain was set",[this.domain]);}catch(e){CN.debug.error(e);}CN.debug.info("CN Started",[this.code,this.title,this.env,this.name,this.alias,this.cnd,this.debug,this.noads]);return this;}};})();CN.callwhen={add:function(state,funcO,queue){if(!state||!funcO||!funcO.func){return;}queue=queue||{},state=(state==="after"?"callback":"callbefore"),funcO={func:funcO.func,params:funcO.params||[],scope:funcO.scope||window};if(jQuery.isFunction(funcO.func)&&CN.isString(state)){queue[state]=queue[state]||[],queue[state].push(funcO);}return queue;},run:function(funcs,target,state){if(!CN.isObject(funcs)){return;}if(CN.isString(target)){state=target,target=window;}var funcThis,funcObj;if((state==="before"||!state)&&jQuery.isArray(funcs.callbefore)){for(var i=0,len=funcs.callbefore.length;i<len;i++){if(CN.isObject(funcs.callbefore[i])){funcObj=funcs.callbefore[i],funcThis=funcObj.scope||window;if(jQuery.isFunction(funcObj.func)){funcObj.func.call(funcThis,funcObj.params||{});}}}}if((state==="after"||!state)&&jQuery.isArray(funcs.callback)){for(var i=0,len=funcs.callback.length;i<len;i++){if(CN.isObject(funcs.callback[i])){target=target||window,funcObj=funcs.callback[i],funcThis=funcObj.scope||window;if(jQuery.isFunction(funcObj.func)){target.bind(funcObj.event||"load",function(){funcObj.func.apply(funcThis,funcObj.params||[]);});}}}}}};CN.config=(function(){var get,set,listProperties;get=function(prop){return CN.page.config?CN.page.config[prop]:"";};set=function(obj){CN.page.config=CN.page.config||{};var prop;for(prop in obj){if(obj.hasOwnProperty(prop)){CN.page.config[prop]=obj[prop];}}return this;};listProperties=function(){var conf=CN.page.config?CN.page.config:{},prop;for(prop in conf){if(conf.hasOwnProperty(prop)){CN.debug.info("CONFIG LIST: "+prop+" : "+conf[prop]);}}};return{get:get,set:set,listProperties:listProperties};})();CN.cookie=(function(){var cookieCache={};return{get:function(name){if(cookieCache[name]){return cookieCache[name];}var cookies=document.cookie.split("; "),cookie=[],c=0,cl=cookies.length;for(;c<cl;c++){cookie=cookies[c].split("=");cookieCache[cookie[0]]=decodeURIComponent(cookie.slice(1).join("="));if(cookie[0]===name){return cookieCache[cookie[0]];}}this.delCache(name);return"";},del:function(name,options){options=options||{};options.expires=-1;return this.set(name,"",options);},set:function(name,value,options){this.delCache(name);options=options||{};value=value||"";options.expires=CN.isDate(options.expires)?options.expires.toUTCString():CN.isNumber(options.expires)?(new Date(+(new Date)+options.expires*60*60*1000)).toUTCString():"";var cookie=[name+"="+encodeURIComponent(value)];if(options.expires){cookie.push("expires="+options.expires);}if(options.path){cookie.push("path="+options.path);}if(options.domain){cookie.push("domain="+options.domain);}if(options.secure){cookie.push("secure");}return document.cookie=cookie.join("; "),cookieCache[name]=value,true;},delCache:function(name){delete cookieCache[name];return this;}};})();CN.date=(function(){var months={en:{_long:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),_short:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(",")},es:{_long:"enero,febraro,marzo,abril,mayo,junio,julio,agosto,septiembre,octubre,noviembre,deciembre".split(",")}},days={en:{_long:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),_short:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")},es:{_long:"el domingo,el lines,el martes,el mi&eacute;rcoles,el jueves,el viernes,el s&aacute;bado".split(",")}},zeroPad=function(arg,len){arg=arg.toString();var diff=len-arg.length,i;for(i=0;i<diff;i++){arg="0"+arg.slice(0,arg.length);}return arg;},formatFlags={G:function(){return"AD";},y:function(d,number){var y=d.getFullYear().toString();y=(number===2)?y.substring(y.length-2,y.length):zeroPad(y,number);return y;},M:function(d,number){var m=d.getMonth(),opt={};if(number<3){m=zeroPad(m+1,number);}else{opt.form=number===3?"short":"long";m=CN.date.getMonthName(m,opt);}return m;},w:function(d,number){var first=new Date(d.getFullYear(),0,1),w;w=Math.ceil((((d-first)/86400000)+first.getDay()+1)/7);w=zeroPad(w,number);return w;},D:function(d,number){var first=new Date(d.getFullYear(),0,1),day;day=Math.ceil(((d-first)/86400000)+first.getDay()+1);day=zeroPad(day,number);return day;},d:function(d,number){return zeroPad(d.getDate(),number);},E:function(d,number){var opt={};opt.form=number>3?"long":"short";return CN.date.getDayName(d.getDay(),opt);},a:function(d,number){return d.getHours()<12?"AM":"PM";},H:function(d,number){return zeroPad(d.getHours(),number);},k:function(d,number){return zeroPad(d.getHours()+1,number);},K:function(d,number){var hours=d.getHours();return zeroPad(hours-12>=0?hours-12:hours,number);},h:function(d,number){var hours=d.getHours();return zeroPad((hours-13>=0?hours-12:hours),number);},m:function(d,number){return zeroPad(d.getMinutes(),number);},s:function(d,number){return zeroPad(d.getSeconds(),number);},S:function(d,number){return zeroPad(d.getMilliseconds(),number);}};return{isLeapYear:function(year){return !!(year&&(year%4===0)&&(year%100!==0||year%400===0));},getDaysInMonth:function(month,year){return(month===1&&this.isLeapYear(year))?29:[31,28,31,30,31,30,31,31,30,31,30,31][month]||0;},getMonthName:function(month,options){options=options||{};return CN.date.getMonthNames(options)[month]||"";},getMonthNames:function(options){options=options||{};return months[options.lang||"en"]["_"+(options.form||"long")]||[];},getDayName:function(day,options){options=options||{};return CN.date.getDayNames(options)[((day===7)?0:day)]||"";},getDayNames:function(options){options=options||{};return days[options.lang||"en"]["_"+(options.form||"long")]||[];},format:function(d,pattern){if(!CN.isDate(d)){CN.debug.warn("date.format() method requires a JavaScript date object to be passed");return d;}var str="",p=function(q){str+=q;},i,il,current="",flagLength=1,currentToEnd,subPattern;if(CN.isString(pattern)){pattern=pattern.split("");for(i=0,il=pattern.length;i<il;i++){current=pattern[i];if(formatFlags[current]){while(pattern[i+flagLength]===pattern[i]){flagLength+=1;}p(formatFlags[current](d,flagLength));}else{if(pattern[i]==="'"){if(pattern[i+1]!=="'"){currentToEnd=pattern.slice(i+1,pattern.length);subPattern=currentToEnd.slice(0,currentToEnd.indexOf("'"));p(subPattern.join(""));flagLength+=(subPattern.length+1);}else{p("'");flagLength+=1;}}else{p(pattern.slice(i,i+1).join(""));}}i+=(flagLength-1);current="";flagLength=1;}}else{str=d.toString();}return str;},isoToDate:function(isoDate){var regex=/([0-9]{4})(-([0-9]{2})(-([0-9]{2})(T([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2}):([0-9]{2})))?)?)?)?/,offset=0,date=isoDate.match(regex),d=new Date(date[1],0,1);if(date[3]){d.setMonth(date[3]-1);}if(date[5]){d.setDate(date[5]);}if(date[7]){d.setHours(date[7]);}if(date[8]){d.setMinutes(date[8]);}if(date[10]){d.setSeconds(date[10]);}if(date[12]){d.setMilliseconds(Number("0."+date[12])*1000);}if(date[14]){offset=(Number(date[16])*60)+Number(date[17]);offset=offset*((date[15]=="-")?1:-1);}offset=offset-d.getTimezoneOffset();d.setTime(Number(Number(d)+(offset*60*1000)));return d;},convertIwDateToIso:function(iwDate){var isoDate="";if(CN.isString(iwDate)){isoDate=iwDate.substr(0,4)+"-"+iwDate.substr(4,2)+"-"+iwDate.substr(6,2)+"T"+iwDate.substr(9,8)+"-05:00";}return isoDate||"";}};})();CN.frame=(function($){var _resize=function(e){var frame=(e.data&&e.data.use)?e.data.use:this;try{var body=frame.contentWindow.document.body;}catch(e){return CN.debug.user(e,[frame,frame.id]);}if(typeof e.data==="undefined"){$("iframe",body).bind("load",{use:frame},_resize);}if(!$(".textAd",body).length||!$("#adHolder a",body).eq(0).text()){$("#adHolder",body).css({"font-size":0,"line-height":0});}$(frame).css({border:"none",margin:0,height:$(body).css({overflow:"hidden",margin:0,border:0}).outerHeight()});};return{bindResize:function(frame){$(frame).bind("load",_resize);return this;},refresh:function(frames,url,resize,funcs){frames=(CN.isString(frames))?frames.split(/,|\s+/):($.isArray(frames))?frames:[];if(!frames.length){return this;}if(CN.isObject(resize)){funcs=resize,resize=true;}if(CN.isObject(url)){funcs=url,url="";}if(CN.isBoolean(url)){resize=url;url="";}resize=(resize==null)?true:resize;$.each(frames,function(i,v){if(!/\S/.test(v)){return true;}var frame=$(v);if(!frame.length){return true;}if(resize){frame.bind("load",_resize);}CN.callwhen.run(funcs,frame);url=url||frame[0].src;try{frame[0].contentWindow.location.replace(url);CN.debug.info("CN Frame Refresh",[v,url,resize]);}catch(e){CN.debug.user(e,[v,url,resize]);}});return this;},resize:function(frame){$(frame).bind("load",_resize).triggerHandler("load");return this;}};})(jQuery);CN.internal=(function(){return{getTeamsiteServer:function(){return"deprecated";}};})();CN.media=(function($){var embedSwf,embedSwfWithTimeout;embedSwf=function(args){swfobject.embedSWF.apply(window,args);};embedSwfWithTimeout=function(args){setTimeout(function(){embedSwf(args);},200);};return{swf:function(args){if(typeof swfobject==="undefined"){CN.debug.info("Dynamically loading swfobject.js - consider placing the script call in the site JSP if load time/FOUC is an issue.");$.getScript("/js/cn-fe-common/misc/swfobject.js",function(){embedSwfWithTimeout(args);});}else{CN.debug.info("swfobject.js already loaded or being loaded on page, using it to render mediaItem");embedSwf(args);}}};})(jQuery);CN.modules=(function(){CN.customEvents=CN.customEvents||{};CN.customEvents.moduleLoaded={};var register,loaded=[];register=function(moduleName){CN.modules.loaded.push(moduleName);jQuery(window).trigger("CN.customEvents.moduleLoaded."+moduleName);};return{register:register,loaded:loaded};})();CN.page=(function(){return{config:{},section:function(){return((location.pathname.split("/")[1]||"").match(/^[^\.]*$/)||[""])[0];},subsection:function(){return((location.pathname.split("/")[2]||"").match(/^[^\.|(\d{4})]*$/)||[""])[0];},slug:function(){return((location.pathname.split("/")[location.pathname.split("/").length-1]||"").match(/^[^\.]*$/)||[""])[0];}};})();CN.reg=(function($){var form={},reqClass="rqrd";function formBindings(){form.bind("submit",function(){var bdayfield=$("#bdayfield",this);if(bdayfield.length&&$("#birthYear",this).val()!="YYYY"){bdayfield.val([$("#birthMonth",this).val(),$("#birthDay",this).val(),$("#birthYear",this).val()].join("/"));}});}return{setForm:function(fid){form=$(fid);formBindings();return this;},getForm:function(){return form;},setBirthday:function(){var bdayfield=$("#bdayfield",form);if(bdayfield.length){var fields=bdayfield.val().split("/");$("#birthMonth",form).val(fields[0]);$("#birthDay",form).val(fields[1]);$("#birthYear",form).val(fields[2]);}},setReq:function(el){$(el).parents(".row").addClass(reqClass);},removeReq:function(el){$(el).parents(".row").removeClass(reqClass);},getReqClass:function(){return reqClass;}};})(jQuery);CN.search=(function(){var checks={alphanum:/[^0-9a-zA-Z\s]/g,script:/<script(.|\s)*?\/script>/g};return{path:function(keywords){return this.sanitize(keywords).replace(/\s+/g,"-");},sanitize:function(keywords){return CN.utils.trim(keywords||"").replace(checks.script,"").replace(checks.alphanum,"");}};})();CN.user=(function(){return{isLoggedIn:function(){return CN.cookie.get("amg_user_record")&&CN.cookie.get("amg_user");},isConfirmed:function(){return CN.utils.parseStr(CN.cookie.get("amg_user_record"),"usercookie").conf==="true";},username:function(){return CN.utils.parseStr(CN.cookie.get("amg_user_record"),"usercookie").username||"";},userid:function(){return CN.utils.parseStr(CN.cookie.get("amg_user_record"),"usercookie").uid||0;}};})();CN.world=(function($){var states={msg:"Select your",us:{desc:"state",code:"AL,AK,AZ,AR,CA,CO,CT,DE,DC,FL,GA,HI,ID,IL,IN,IA,KS,KY,LA,ME,MD,MA,MI,MN,MS,MO,MT,NE,NV,NH,NJ,NM,NY,NC,ND,OH,OK,OR,PA,RI,SC,SD,TN,TX,UT,VT,VA,WA,WV,WI,WY,AE,AA,AP".split(","),name:"Alabama,Alaska,Arizona,Arkansas,California,Colorado,Connecticut,Delaware,District of Columbia,Florida,Georgia,Hawaii,Idaho,Illinois,Indiana,Iowa,Kansas,Kentucky,Louisiana,Maine,Maryland,Massachusetts,Michigan,Minnesota,Mississippi,Missouri,Montana,Nebraska,Nevada,New Hampshire,New Jersey,New Mexico,New York,North Carolina,North Dakota,Ohio,Oklahoma,Oregon,Pennsylvania,Rhode Island,South Carolina,South Dakota,Tennessee,Texas,Utah,Vermont,Virginia,Washington,West Virginia,Wisconsin,Wyoming,Armed Forces Europe,Armed Forces Americas,Armed Forces Pacific".split(",")},ca:{desc:"province",code:"AB,BC,MB,NB,NL,NT,NS,NU,ON,PE,QC,SK,YT".split(","),name:"Alberta,British Columbia,Manitoba,New Brunswick,Newfoundland and Labrador,Northwest Territories,Nova Scotia,Nunavuta,Ontario,Prince Edward Island,Quebec,Saskatchewan,Yukon".split(",")}},form=function(){return CN.reg.getForm();};return{setForm:function(fid){form=$(fid);return this;},setState:function(){var stateField=$("#state",form),zipField=$("#zip",form),selection=this.value.toLowerCase();if(!(selection in states)){stateField.attr({disabled:"true"});zipField.attr({disabled:"true"}).data("val",zipField[0].value).val("");stateField[0][0].selected=true;CN.reg.removeReq("#zip, #state");}else{CN.reg.setReq("#zip, #state");zipField[0].value=(zipField.attr({disabled:""}).data("val")||zipField[0].value);var choice=stateField.children("[selected]").val()||false;stateField.empty();stateField.attr("disabled","")[0][0]=new Option(states.msg+" "+states[selection].desc,"");$.each(states[selection].code,function(i){stateField[0][i+1]=new Option(states[selection].name[i],this);if(choice&&choice==this){stateField[0][i+1].selected=true;}});}}};})(jQuery);CN.Interface=function(name,methods){var i,il;if(arguments.length!==2){throw new Error("CN.Interface constructor called with "+arguments.length+" arguments, but expected exactly 2");}this.name=name;this.methods=[];for(i=0,il=methods.length;i<il;i++){if(typeof methods[i]!=="string"){throw new Error("CN.Interface constructor expects method names to be passed in as strings");}this.methods.push(methods[i]);}};CN.Interface.ensureImplements=function(object){var i,il,inter,j,jl,method;if(arguments.length<2){throw new Error("Static method CN.Interface.ensureImplements called with "+arguments.length+" arguments, but expected at least 2");}for(i=1,il=arguments.length;i<il;i++){inter=arguments[i];if(inter.constructor!==CN.Interface){if(jQuery.browser.safari&&jQuery.browser.version<500){}else{throw new Error("Static method CN.Interface.ensureImplements expects arguments two and above to be instances of CN.Interface.");}}for(j=1,jl=inter.methods.length;j<jl;j++){method=inter.methods[j];if(!object[method]||typeof object[method]!=="function"){throw new Error("Static method CN.Interface.ensureImplements: object does not implement the "+inter.name+" interface. Method "+method+" was not found.");}}}};CN.Observer=function(label){this.fns=[];this.label=label||null;};CN.Observer.haveFired=[];CN.Observer.prototype={subscribe:function(fn){this.fns.push(fn);},unsubscribe:function(fn){this.fns=this.fns.filter(function(el){if(el!==fn){return el;}});},fire:function(o,thisObj){var scope=thisObj||window;this.fns.forEach(function(el){el.call(scope,o);});if(this.label&&CN.Observer.haveFired.indexOf(this.label)===-1){CN.Observer.haveFired.push(this.label);}}};CN.Timer=function(millis,callback){this.interval=millis;this.timer=null;this.callbacks=[];this.multipliers=[];this.tickCounts=[];this.canRun=[];this.stoppedThreads=0;this.shouldRunOnce=false;this.startedAt=-1;this.pausedAt=-1;this.addCallback(callback);return this;};CN.Timer.prototype={preset:function(){this.stoppedThreads=0;this.startedAt=-1;this.pausedAt=-1;for(var i=0,il=this.callbacks.length;i<il;i++){this.canRun[i]=true;this.tickCounts[i]=0;}},ticks:function(initInterval){var that=this,i,il;for(i=0,il=this.callbacks.length;i<il;i++){if(typeof this.callbacks[i]==="function"&&this.canRun[i]){this.tickCounts[i]++;if(this.tickCounts[i]===this.multipliers[i]){this.tickCounts[i]=0;if(this.runOnce()){this.canRun[i]=false;this.stoppedThreads++;}window.setTimeout(that.callbacks[i],0);}}}if(this.runOnce()&&this.stoppedThreads===this.callbacks.length){this.stop();}if(typeof initInterval==="number"){this.stop().start(null,true);}},runOnce:function(isRunOnce){if(typeof isRunOnce==="undefined"){return this.shouldRunOnce;}else{if(typeof isRunOnce==="boolean"){this.shouldRunOnce=isRunOnce;}else{CN.logger.getInstance().log.error("Invalid argument for runOnce");}}return this;},getSetInterval:function(millis){if(typeof millis==="undefined"){return this.interval;}else{if(typeof millis==="number"){this.interval=Math.floor(millis);}}return this;},stop:function(isPausing){if(this.timer){if(!isPausing){this.pausedAt=-1;}try{window.clearInterval(this.timer);}catch(e){}this.timer=null;}return this;},isStopped:function(){return((this.timer===null)&&!this.isPaused());},start:function(initialInterval,withoutPreset){var tempInterval,that=this;if(this.isPaused()){return this.resume();}if(!this.isStopped()){return this;}if(!withoutPreset){this.preset();}tempInterval=this.interval;if(typeof initialInterval==="number"){tempInterval=initialInterval;}this.timer=window.setInterval(function(){that.ticks(initialInterval);},tempInterval);this.startedAt=new Date().getTime();this.startedAt-=(this.interval-tempInterval);return this;},pause:function(){if(this.timer){this.pausedAt=new Date().getTime();this.stop(true);}return this;},isPaused:function(){return(this.pausedAt>=0);},resume:function(){if(this.isPaused()){var tempInterval=this.interval-((this.pausedAt-this.startedAt)%this.interval);this.pausedAt=-1;this.start(tempInterval,true);}return this;},restart:function(){return this.stop().start();},addCallback:function(callback,n){if(typeof callback==="function"){this.callbacks.push(callback);if(typeof n==="number"){n=Math.floor(n);this.multipliers.push(n<1?1:n);}else{this.multipliers.push(1);}this.tickCounts.push(0);this.canRun.push(true);}return this;},clearCallbacks:function(){this.callbacks.length=0;this.multipliers.length=0;this.canRun.length=0;this.tickCounts.length=0;this.stoppedThreads=0;return this;}};CN.dom=CN.dom||{};CN.dom.storage={activeClass:"active",inactiveClass:"inactive",innerTag:"span"};CN.dom.storage.activateElement=function(el,storage,klass){var oldLink,newLink,newEl;klass=klass||this.activeClass;if(el.getElementsByTagName("a").length>0){if(jQuery.browser.msie||jQuery.browser.safari){oldLink=jQuery(el.getElementsByTagName("a")[0]);newLink=oldLink.clone(true);storage=jQuery(newLink).get()[0];oldLink.remove();}else{storage=el.removeChild(el.getElementsByTagName("a")[0]);}jQuery(el).addClass(klass);newEl=document.createElement(this.innerTag);newEl.innerHTML=storage.innerHTML;el.appendChild(newEl);return storage;}};CN.dom.storage.deactivateElement=function(el,storage,klass){klass=klass||this.activeClass;if(el.getElementsByTagName(this.innerTag).length>0){var children=el.getElementsByTagName(this.innerTag);el.removeChild(children[0]);el.appendChild(storage);jQuery(el).removeClass(klass);}};CN.functionQueue=(function(){var q=[];return{addToQueue:function(f,a,qId){var temp={fName:f,args:a};q.push(temp);},execute:function(qId){var l=q.length,i,tempF;for(i=0;i<l;i++){tempF=eval(q[i].fName);tempF.apply(tempF,q[i].args);}}};})();CN.IDoc=new CN.Interface("IDoc",["getId","getTitle","getKeywords","getDocType","hasComments","hasRatings"]);var MAGNET=CN;CN.dart=(function($,CN,$D){var $window=$(window),ads={},isDrawing=false,common={ad:{},params:{},charmap:{},container:"_frame",dcopt:true,frameurl:"/ads/newad.html",embed:false,initialized:false,ready:false,ord:Math.floor(Math.random()*10000000000000),remote:"/services/dart/",retry:false,site:"",tiles:[],tile:0,transparency:true,url:location.protocol+"//ad.doubleclick.net/adj/",zone:""},kwregex=/kw=/g,msg_pre="CN Ad ",msg={"true":{gen:"Success",call:"Request Fired",embed:"Set to Embedded Mode.  Operating with degraded feature-set.",queue:"Request Added to Queue",plug:"Plugin Registered",valid:"Plugin Action Passed Validation",finished:"All Plugins Finished Running.",drawing:"All Ads Have Completed Drawing",drawn:"Ad Drawn"},"false":{gen:"Error",call:"Request Aborted",embed:"Set to Iframe Mode. Good job.",queue:"Request Faled To Be Added to Queue",plug:"Plugin Skipped",valid:"Plugin Action Failed Validation",finished:"Plugins Still Running",drawing:"Ads Still Drawing",drawn:"Ad Failed To Draw"}},timer={mark:function(milestone){this[milestone]=(milestone==="start")?(new Date()).getTime():(new Date()).getTime()-this.start;}},nakedFrame=$("<iframe/>").attr({allowtransparency:common.transparency,frameBorder:0,scrolling:"no"}).css({border:"none",margin:0,padding:0}),messager=function(type,state){return msg_pre+msg[(state!==false).toString()][type||"gen"];},buildurl=function(ad,url){return common.url+common.site+"/"+(url||ad.zone||common.zone)+"sz="+ad.sz+";tile="+ad.tile+";"+(ad.tile===1&&common.dcopt===true?"dcopt=ist;":"")+(!url?keywordString(ad):"")+buildParams(ad)+"ord="+common.ord+"?";},buildParams=function(ad){var cParams=common.params,paramStr="",param;for(param in cParams){if(cParams.hasOwnProperty(param)){paramStr+=param+"=";paramStr+=(cParams[param].refresh&&(ad.kws.length!==common.ad.kws.length))?cParams[param].refresh(ad):cParams[param].defaultValue;}}return paramStr;},call=function(name,pars){var key=name+pars.sz,zone,ad=ads[key]={tile:common.tiles.push(key),el:$("#"+key+common.container),kws:unique(common.ad.kws,test.kws(pars.kws)||[]),store:pars.store===false?false:common.ad.store,sz:pars.sz,isDrawn:false,xkws:test.kws(pars.kws)||[],zone:pars.zone?test.adzone(pars.zone):false,collapse:pars.collapse===true};if(common.embed){drawEmbedded(key);}else{if(common.ready){if(!isDrawing){draw();}}else{$D.info(messager("queue"),[key,ad]);}}return this;},drawFrame=function(placement,url){var ad=ads[placement],dims=ad.sz.split("x");ad.url=buildurl(ad,url);ad.el.html(ad.frame=nakedFrame.clone().attr({id:placement,name:placement,height:ad.collapse?1:dims[1],width:dims[0],src:ad.url&&common.frameurl+"#"+encodeURIComponent(ad.url)}).bind("load",{key:placement,ad:ad},function(e){if(e.data.ad.tile===1){$window.trigger("CN.customEvents.dartAdDrawn",[placement,"#"+placement,ad]);}onFrameDraw(e);}));ad.isDrawn=true;$D.info(messager("call"),[placement,ad]);return this;},draw=function(e){var i=0,tiles=common.tiles,len=tiles.length;isDrawing=(len>0);for(;i<len;i++){if(ads[tiles[i]].isDrawn===false){drawFrame(tiles[i]);if(i===0){break;}}if(i===len-1){isDrawing=false;timer.mark("rendered");}}},init=function(pars){if(common.initialized){$D.warn(msg_pre+"Initialization called more than once.  This should only happen once per page.");return false;}test.charmap(pars.charmap);common.initialized=true;common.site=pars.site;common.zone=test.adzone(pars.zone);common.ad={store:true,kws:test.kws(pars.kws),tile:common.tile};updateKws();plugin.run();common.embed=(pars.embed||common.embed);if(common.embed){$D.info(messager("embed",true),[]);}timer.mark("init");$D.info(msg_pre+"Initialized",[ads]);$window.bind("CN.customEvents.dartRequest",function(e){draw(e);}).bind("CN.customEvents.dartAdDrawn",function(e){draw(e);}).trigger("CN.customEvents.dartInitialized");},keywordString=function(ad){return"kw="+ad.kws.join(";kw=")+";"+(ad.xkws.length?"!c="+ad.xkws.join(";!c=")+";":"");},onFrameDraw=function(e){var key=e.data.key,ad=ads[key];try{ad.doc=ad.frame.contents();}catch(err){$D.user(e,[e.target,e.target.id]);}$D.info(messager("drawn"),[key,ad]);resize(e);},plugin={queue:[],register:function(plug){if(!plug||!plug.init||plug.isFinished===undefined||!plug.callbacks){$D.info(messager("plug",false),[plug?plug.name:"",plug||{}]);return false;}this.queue.push(plug);$D.info(messager("plug"),[plug.name||"",plug]);$window.unbind("CN.customEvents.dartInitialized");return true;},run:function(){var i=0,len=this.queue.length,passed=false,plug,val;for(;i<len;i++){plug=this.queue[i];$D.info(msg_pre+"Running Plugin",[plug.name]);plug.init({queue:this.queue,position:i,plugin:plug});}},finished:function(event,plugin,val){var i=0,scope=event.data,len=scope.queue.length,passed=scope.validate(val);$D.info(messager("valid",passed),[plugin.name,val]);for(;i<len;i++){if(scope.queue[i].isFinished===false){$D.info(messager("finished",false),[plugin.name]);return false;}}$D.info(messager("finished",true));ready.call(CN.dart);},validate:function(ret){var pass=true,key;for(key in ret){if(ret.hasOwnProperty(key)){pass=(test[key]&&test[key](ret[key])&&pass);}}return pass||false;}},ready=function(e){common.ready=true;timer.mark("ready");$D.info(msg_pre+"Call State Set to Ready");$window.trigger("CN.customEvents.dartRequest");return this;},refresh=function(placement,pars){if(common.embed){return this;}var p=placement?placement.toString().split(/,|\s+/):common.tiles,len=p.length,merge=CN.isObject(pars),i=0,key,ad;common.ord=Math.floor(Math.random()*10000000000000);if(len===common.tiles.length){$('script[id*="prscr"], .prWrap').remove();}for(;i<len;i++){ad=ads[key=p[i]];if(ad&&ad.store){ad.el.height("").height(ad.el.height());ad.isDrawn=false;}}if(common.ready){$window.trigger("CN.customEvents.dartRequest");}return this;},resize=function(e){var frame=e.data&&e.data.key?ads[e.data.key].frame:$(e.target),key=frame.attr("name"),ad=ads[key],textAd=false,body,bHeight;if(ad.doc){body=ad.doc.find("body");bHeight=body.outerHeight();textAd=$(".textAd",body);}else{return this;}if(textAd.length){textAd.clone().appendTo(ad.el);textAd.remove();}if(bHeight===1){ad.el.removeClass("ad-served").addClass("ad-not-served");}else{ad.el.removeClass("ad-not-served").addClass("ad-served");}frame.css({width:ad.el.width(),height:body.outerHeight()});ad.el.height("");$window.trigger("CN.customEvents.dartResize."+key,[key,"#"+key,ad]);$D.info("CN Ad Frame Resize",[key,frame.css("height")+" x "+frame.css("width")]);},recalSize=function(tile){var adKey=CN.dart.get("tiles")[tile-1],ad=ads[adKey],body,bHeight;try{ad.doc=ad.frame.contents();}catch(err){$D.warn("Failed to retrieve iframe content (err.descr.): "+err.description);}if(ad.doc){body=ad.doc.find("body");bHeight=body.outerHeight();}else{return this;}if(bHeight===1){ad.el.removeClass("ad-served").addClass("ad-not-served");}else{ad.el.removeClass("ad-not-served").addClass("ad-served");}ad.frame.css({width:ad.el.width(),height:bHeight});$D.info("CN Ad Frame Recalculate Size",[adKey,ad.frame.css("height")+" x "+ad.frame.css("width")]);},updateKws=function(){var ad;for(ad in ads){if(ads.hasOwnProperty(ad)){ads[ad].kws=unique(common.ad.kws,ads[ad].kws);}}},test=(function(){var reserved=/([\?\+\\\^\$\*\.\(\)\[\]\|])/g,siteResolver=function(val){if(CN.site.testads){return common.site;}var $val=val.split("."),$site=common.site.split("."),i=0,len=$site.length>$val.length?$site.length:$val.length,result=[];for(;i<len;i++){result[i]=($val[i]||$site[i]);}return result.join(".");},urlPat=/^https?:/,zoneEnd=/;$|$/,zonePat=new RegExp(CN.site.testads?"testads;$":"[\\w_;]+$"),zoneResolver=function(val){var prop,map=common.charmap;if(zonePat.test(val)){for(prop in map){if(map.hasOwnProperty(prop)){val=val.replace(new RegExp(prop,"gi"),map[prop]);}}return val.replace(zoneEnd,";");}$D.warn("CN Dart zoneResolver",["Invalid Dart Zone",val]);return val;},kwResolver=function(val){var prop,map=common.charmap;for(prop in map){if(map.hasOwnProperty(prop)){val=val.replace(new RegExp(prop,"gi"),map[prop]);}}return val;};return{ad:function(val){if(!val.kws){return false;}else{common.ad.kws=jQuery.isArray(val.kws)?unique(val.kws):common.ad.kws;updateKws();return true;}},addparam:function(param){var add={};if(!param&&!param.pKey){return false;}add.defaultValue=param.pValue;add.refresh=param.refresh;common.params[param.pKey]=add;return true;},charmap:function(val){var prop,map=common.charmap={};for(prop in val){if(val.hasOwnProperty(prop)){map[prop.replace(reserved,"\\$1")]=val[prop];}}return true;},dcopt:function(val){if(CN.isBoolean(val)){common.dcopt=val;return true;}else{return false;}},embed:function(val){if(CN.isBoolean(val)){common.embed=val;return true;}else{return false;}},site:function(val){common.site=siteResolver(val);return true;},url:function(val){if(CN.isString(val)){common.url=val.replace(urlPat,location.protocol);return true;}return false;},zone:function(val){var ret=zoneResolver(val);if(ret){common.zone=ret;return true;}return false;},adzone:zoneResolver,kws:function(kws){var arr=(kws)?[].concat(kws):[],i=0,len=arr.length;for(;i<len;i++){arr[i]=kwResolver(arr[i]);}return arr;}};}()),unique=function(){var v,i=0,ret=[].concat.apply([],arguments).sort(),l=ret.length;for(;i<l;i++){v=ret.shift();if(ret[0]!==v){ret.push(v);}}return clean_ws(ret.join(",")).split(",");},clean_ws=function(str){return str.replace(/^,|\s*|,^/g,"");},remote={init:function(site,zone,kws){if(!zone||common.initialized){$D.info(msg_pre+"Remote Init error.  No calls will be made.",["site : "+site]);return this;}common.frameurl=site+common.frameurl;common.remoteSite=site;common.remoteInit=site+common.remote+"init/"+zone+"/kw="+CN.url.path().join(";kw=")+";"+kws;embedScript(common.remoteInit);}},drawEmbedded=function(placement,url){var ad=ads[placement];$D.info(messager("call"),[placement,ad]);ad.frame=false;embedScript(ad.url=buildurl(ad,url));ad.isDrawn=true;$window.trigger("CN.customEvents.dartAdDrawn."+placement,[placement,"#"+placement,ad]);$D.info(messager("drawn"),[placement,ad]);return this;},embedScript=function(src){document.write('<script type="text/javascript" src="'+src+'"><\/script>');},requestQueue=function(e){draw(e.data.key);},refreshQueue=function(e){draw(e.data.key,e.data.url);},requestHandler=function(e){draw(e.data.key);};$window.one("CN.customEvents.dartInitialized",ready);$window.bind("CN.customEvents.dartPlugin",plugin,plugin.finished);timer.mark("start");return{buildurl:buildurl,calls:function(key){return $.extend({},(key===true?ads:(CN.isNumber(key)?ads[common.tiles[key]]:ads[key]||{})));},call:call,timer:timer,clone:function(placement,name){if(common.tiles.length){return call(name,{sz:placement,kws:ads[common.tiles[0]].kws});}return false;},refresh:refresh,get:function(props){props=[].concat(props);var i=0,len=props.length,ret={},prop;for(;i<len;i++){prop=props[i];ret[prop]=(common[prop]||common[prop]===false?common[prop]:undefined);}return len>1?ret:ret[prop];},init:init,ondraw:common.embed?false:onFrameDraw,ready:ready,recalSize:recalSize,register:function(install){var i=0,len;if(!install){return this;}install=[].concat(install);len=install.length;for(;i<len;i++){plugin.register(install[i]);}return this;},remote:remote,test:test};}(jQuery,CN,CN.debug));CN.dart.ipad=(function(ua){var suff=".ipad",init=function(obj){var i=0,len=plugin.callbacks.length;plugin.isFinished=true;jQuery(window).trigger("CN.customEvents.dartPlugin",[plugin,{site:CN.dart.get("site")+suff}]);for(;i<len;i++){plugin.callbacks[i]["func"].apply((plugin.callbacks[i]["scope"]||null),(plugin.callbacks[i]["args"]||[]));}},plugin={init:ua.indexOf("ipad")!==-1?init:false,name:"CN Ad User Agent Plugin",callbacks:[],isFinished:ua.indexOf("ipad")===-1};return plugin;}(navigator.userAgent.toLowerCase()));CN.dart.suppression=(function(){var pars=CN.url.params(),ret=false,init=function(obj){var i=0,len=plugin.callbacks.length;plugin.isFinished=true;jQuery(window).trigger("CN.customEvents.dartPlugin",[plugin,ret]);for(;i<len;i++){plugin.callbacks[i]["func"].apply((plugin.callbacks[i]["scope"]||null),(plugin.callbacks[i]["args"]||[]));}},plugin;if(pars.npu==="1"||(pars.mbid&&pars.mbid.match(/yhoo|google[1-5]?$/))){ret={dcopt:false};}plugin={init:ret?init:false,name:"CN Ad Param-based Modifiers",callbacks:[],isFinished:!ret};return plugin;}());CN.dart.register([CN.dart.ipad,CN.dart.suppression]);if(typeof CN==="undefined"||!CN){throw ("CN and/or jQuery library is missing!");}CN.ad=CN.ad||{};CN.ad.lotame=(function($,$CNd,$D){var ready=false,protocol=location.protocol||"http:",timeout=800,separator="|",siteName=CN.site.name||location.hostname.split(".").splice(-2)[0],siteCodes={allure:[293,1666],architecturaldigest:[294,1667],bonappetit:[295,1668],brides:[296,1669],concierge:[297,1670],details:[298,1671],"epicurious.com":[299,1672],glamour:[300,1673],golfdigest:[301,1674],gourmet:[973,1691],gq:[302,1675],luckymag:[303,1676],newyorker:[304,1677],nutritiondata:[306,1679],self:[306,1679],style:[307,1680],teenvogue:[308,1681],vanityfair:[309,1682],vogue:[310,1683],wmagazine:[311,1684],wired:[312,1685],webmonkey:[318,1690]},code=siteCodes[siteName]?siteCodes[siteName][0]:siteCodes.wired[0],url=[protocol+"//ad.crwdcntrl.net/4/pe=y","c=244","var=CN.ad.lotame.tags","out=json"].join(separator),ccurl=code?[protocol+"//tags.crwdcntrl.net/c/","/cc.js"].join(code):false,audience=function(){$.ajax({url:url,dataType:"script",timeout:timeout,error:function(x,t){finished(false);$D.info(plugin.name+" plugin disabled",["script "+t,"using site code "+code]);},cache:true,success:function(data){ready=true;parse();},complete:function(){$D.info(plugin.name+" cc call complete");}});return true;},crowdControl=function(){var lot;if(!code){return false;}if(typeof LOTCC==="undefined"){LOTCC={asyncBehaviors:{},async:true};}lot=document.createElement("script");lot.src=ccurl;$(function(){$("head",document)[0].appendChild(lot);});return true;},init=function(obj){audience();setTimeout(function(){if(!plugin.isFinished&&!ready){parse();}},5000);},finished=function(ret){var i=0,len=plugin.callbacks.length;plugin.isFinished=true;$(window).trigger("CN.customEvents.dartPlugin",[plugin,ret]);for(;i<len;i++){plugin.callbacks[i]["func"].apply((plugin.callbacks[i]["scope"]||null),(plugin.callbacks[i]["args"]||[]));}},parse=function(){var i=0,len,aud,ret=[],tags=CN.ad.lotame.tags;if(!tags){$D.warn("Lotame Request Timed Out",["Setting plugin to finished to procceed to render ads"]);return finished(false);}if(tags.Profile){aud=tags.Profile.Audiences.Audience;len=aud.length;for(;i<len;i++){ret.push(aud[i].abbr);}}finished({ad:{kws:$CNd.get("ad").kws.concat(ret)}});},plugin={init:init,name:"CN Ad Lotame Audience kws",modifies:["keywords"],requires:[],callbacks:[],isFinished:false},register=function(){$CNd.register(plugin);};if(!code){$D.error(plugin.name+" missing code for this site.  Verify the site is in the list.",[siteCodes]);return false;}register();crowdControl();return{tags:false};}(jQuery,CN.dart,CN.debug));if(typeof CN==="undefined"||!CN){throw ("CN and/or jQuery library is missing!");}CN.ad=CN.ad||{};CN.ad.yieldex=(function($,$CNd,$D){var LIMIT=294,init=function(obj){var plug=null,queue=obj.queue,i=queue.length-1,run=function(){param.pValue=build();finished({addparam:param});};for(;i>=0;i--){plug=queue[i];if(plug!==plugin&&requires(plug)){$D.info(plugin.name+" found dependency: "+plug.name,["Pushing to callbacks array"]);if(!plug.isFinished){return plug.callbacks.push({func:run,args:null,scope:null});}}}run();},build=function(ad){var kws=$CNd.get("ad").kws,akws=(typeof ad!=="undefined")?ad.kws:kws,value;if(kws.length!==akws.length){value=akws.join("|");}else{value=kws.join("|");}$D.info(plugin.name+" assembled",[{common:kws,ad:akws,value:value}]);return((value.length<=LIMIT)?value:truncateStr(value))+";";},param={pKey:"u",pValue:null,refresh:build},truncateStr=function(str){var pos;$D.info(plugin.name+" limit reached.  Truncating",[{limit:LIMIT,length:str.length,str:str}]);str=("trunc|"+str).substr(0,LIMIT-6);pos=str.lastIndexOf("|");return str.substr(0,pos);},requires=function(plug){var i=0,mod=plug.modifies,req=plugin.requires,curr=null;if(mod&&mod.length&&req&&req.length){for(;i<req.length;i++){curr=req[i];if(mod.indexOf(curr)!==-1){return true;}}}return false;},finished=function(ret){var i=0,len=plugin.callbacks.length;plugin.isFinished=true;$(window).trigger("CN.customEvents.dartPlugin",[plugin,ret]);for(;i<len;i++){plugin.callbacks[i]["func"].apply((plugin.callbacks[i]["scope"]||null),(plugin.callbacks[i]["args"]||[]));}},plugin={init:init,name:"CN Ad Yieldex",modifies:["common.params"],requires:["keywords"],callbacks:[],isFinished:false},register=function(){$CNd.register(plugin);};register(plugin);return{param:param};}(jQuery,CN.dart,CN.debug));